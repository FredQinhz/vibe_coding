# 照片水印工具

这是一个基于Java的命令行程序，可以读取图片的EXIF信息中的拍摄时间，并将其作为水印添加到图片上。

## 功能特性

- 读取图片的EXIF信息，提取拍摄时间（年月日）作为水印
- 支持自定义水印字体大小
- 支持自定义水印颜色（RGB格式）
- 支持选择水印位置（左上角、居中、右下角）
- 自动在原图片目录的同级创建 `原目录名_watermark` 目录用于保存添加水印后的图片

## 环境要求

- Java 8 或更高版本
- Maven 3.6.0 或更高版本（用于构建项目）

## 安装依赖

该项目使用 Maven 管理依赖，主要依赖项是 `metadata-extractor` 库用于读取图片的EXIF信息。

在项目根目录下执行以下命令安装依赖：

```bash
mvn clean install
```

## 编译和打包

```bash
mvn package
```

打包后，在 `target` 目录下会生成包含所有依赖的可执行JAR文件：`photo-watermark-1.0-SNAPSHOT-jar-with-dependencies.jar`

## 使用方法

1. 确保已安装Java 8或更高版本
2. 编译并打包项目
3. 运行以下命令启动程序：

```bash
java -jar target/photo-watermark-1.0-SNAPSHOT-jar-with-dependencies.jar
```

4. 按照程序提示输入以下信息：
   - 图片文件路径
   - 水印字体大小
   - 水印颜色（格式：r,g,b，例如：255,0,0 表示红色）
   - 水印位置（1=左上角，2=居中，3=右下角）

## 示例

假设我们有一张位于 `C:\photos\IMG_1234.jpg` 的图片，想要添加红色、大小为36的水印在右下角：

```
请输入图片文件路径: C:\photos\IMG_1234.jpg
请输入水印字体大小: 36
请输入水印字体颜色 (例如: 255,0,0 表示红色): 255,0,0
请选择水印位置:
1. 左上角
2. 居中
3. 右下角
3
```

添加水印后的图片将保存在 `C:\photos_watermark\watermarked_IMG_1234.jpg`

## 注意事项

- 如果图片没有EXIF信息或无法提取拍摄时间，程序会使用当前日期作为水印
- 目前支持的图片格式包括JPG、PNG、BMP等常见格式
- 请确保有足够的权限读取原图片和写入水印图片